<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Rewired Studio Monitor</title>
    <style>
        :root { --bg: #000000; --card: #1c1c1e; --accent: #0a84ff; --text: #f2f2f7; --danger: #ff453a; --success: #30d158; --warn: #ffd60a; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; background: var(--bg); color: var(--text); display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; padding: 10px; box-sizing: border-box; }
        
        .container { background: var(--card); padding: 24px; border-radius: 20px; width: 100%; max-width: 400px; display: flex; flex-direction: column; gap: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        h1 { margin: 0; font-size: 1.1rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; text-align: center; color: #8e8e93; }
        
        /* STATUS BAR */
        .status-bar { display: flex; justify-content: center; align-items: center; gap: 8px; font-size: 0.8rem; font-weight: 600; padding-bottom: 8px; border-bottom: 1px solid #333; letter-spacing: 0.5px; }
        .dot { width: 8px; height: 8px; border-radius: 50%; background: #3a3a3c; }
        .dot.active { background: var(--success); box-shadow: 0 0 8px var(--success); }
        .dot.error { background: var(--danger); }
        
        /* METERS */
        .meters { display: flex; height: 140px; gap: 8px; background: #000; border-radius: 12px; padding: 12px; border: 1px solid #333; }
        .meter-col { flex: 1; background: #1c1c1e; border-radius: 6px; position: relative; overflow: hidden; }
        .meter-fill { position: absolute; bottom: 0; width: 100%; background: linear-gradient(to top, var(--success), var(--warn), var(--danger)); transition: height 0.08s ease-out; height: 0%; }
        
        /* CONTROLS */
        #control-bar { display: none; justify-content: center; padding-top: 10px; }
        .circle-btn {
            background: #2c2c2e; width: 64px; height: 64px; border-radius: 50%; border: none;
            display: flex; align-items: center; justify-content: center; cursor: pointer;
            transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1); -webkit-tap-highlight-color: transparent;
        }
        .circle-btn:active { transform: scale(0.92); }
        .circle-btn.active { background: var(--text); color: #000; } /* Inverted logic for 'On' state */
        .circle-btn.muted { background: #3a3a3c; color: #8e8e93; }

        /* SF SYMBOL ICONS */
        svg { width: 28px; height: 28px; fill: currentColor; }

        /* INPUTS */
        .inputs { display: flex; gap: 10px; }
        input { flex: 1; background: #2c2c2e; border: none; color: white; padding: 14px; border-radius: 10px; font-size: 16px; outline: none; }
        input:focus { background: #3a3a3c; }
        
        .primary-btn { background: var(--accent); color: white; border: none; padding: 16px; border-radius: 12px; font-weight: 600; font-size: 1rem; cursor: pointer; width: 100%; }
        .primary-btn:disabled { background: #3a3a3c; color: #8e8e93; }

        /* LOGS */
        #console { height: 100px; font-family: "SF Mono", monospace; font-size: 10px; color: #636366; overflow-y: auto; text-align: left; padding-top: 10px; border-top: 1px solid #333; }
        .log-err { color: var(--danger); }
        .log-warn { color: var(--warn); }
    </style>
</head>
<body>

<div class="container">
    <h1>Studio Monitor</h1>
    
    <div class="status-bar">
        <div id="status-dot" class="dot"></div>
        <span id="conn-status">DISCONNECTED</span>
    </div>

    <div class="meters">
        <div class="meter-col"><div id="m-l" class="meter-fill"></div></div>
        <div class="meter-col"><div id="m-r" class="meter-fill"></div></div>
    </div>

    <div id="control-bar">
        <button id="mute-btn" class="circle-btn active">
            <svg id="icon-speaker" viewBox="0 0 24 24">
                <path d="M14.5 4.5v15c0 .6-.7 1-1.2.6l-4.6-3.7H5c-.6 0-1-.4-1-1v-6.8c0-.6.4-1 1-1h3.7L13.3 3.9c.5-.4 1.2 0 1.2.6zm3.3 3.3c.4-.4 1-.4 1.4 0 2.3 2.3 2.3 6.1 0 8.5-.4.4-1 .4-1.4 0-.4-.4-.4-1 0-1.4 1.6-1.6 1.6-4.2 0-5.7-.4-.4-.4-1 0-1.4z"/>
            </svg>
            <svg id="icon-muted" viewBox="0 0 24 24" style="display:none">
                 <path d="M4.6 3.2a1 1 0 0 0-1.4 1.4l16 16a1 1 0 0 0 1.4-1.4L4.6 3.2zm6.6 2.1L8.8 7.2l7 7V4.5c0-.6-.7-1-1.2-.6zM5 15.4h3.7l1.1.9-4.3-4.3H5c-.6 0-1 .4-1 1v6.8c0 .6.4 1 1 1zm9.5-2.6 1.8 1.8c.9-1.4.9-3.2.1-4.6-.3-.5-.9-.6-1.4-.2-.5.3-.6.9-.2 1.4.3.5.3 1.1-.3 1.6z"/>
            </svg>
        </button>
    </div>

    <div class="inputs" id="input-area">
        <input id="room" value="studio1" placeholder="Room">
        <input id="user" placeholder="Your
